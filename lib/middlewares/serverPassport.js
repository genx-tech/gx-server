"use strict";

require("source-map-support/register");

const {
  InvalidConfiguration,
  BadRequest
} = require('../utils/Errors');

const {
  requireFeatures
} = require('../utils/Helpers');

let serverPassport = (opt, app) => {
  let passportService = app.getService('passport');

  if (!passportService) {
    throw new InvalidConfiguration('Passport feature is not enabled.', app, 'passport');
  }

  return passportService.middlewares;
};

module.exports = serverPassport;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlcy9zZXJ2ZXJQYXNzcG9ydC5qcyJdLCJuYW1lcyI6WyJJbnZhbGlkQ29uZmlndXJhdGlvbiIsIkJhZFJlcXVlc3QiLCJyZXF1aXJlIiwicmVxdWlyZUZlYXR1cmVzIiwic2VydmVyUGFzc3BvcnQiLCJvcHQiLCJhcHAiLCJwYXNzcG9ydFNlcnZpY2UiLCJnZXRTZXJ2aWNlIiwibWlkZGxld2FyZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU07QUFBRUEsRUFBQUEsb0JBQUY7QUFBd0JDLEVBQUFBO0FBQXhCLElBQXVDQyxPQUFPLENBQUMsaUJBQUQsQ0FBcEQ7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQXNCRCxPQUFPLENBQUMsa0JBQUQsQ0FBbkM7O0FBZ0JBLElBQUlFLGNBQWMsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUUvQixNQUFJQyxlQUFlLEdBQUdELEdBQUcsQ0FBQ0UsVUFBSixDQUFlLFVBQWYsQ0FBdEI7O0FBRUEsTUFBSSxDQUFDRCxlQUFMLEVBQXNCO0FBQ2xCLFVBQU0sSUFBSVAsb0JBQUosQ0FDRixrQ0FERSxFQUVGTSxHQUZFLEVBR0YsVUFIRSxDQUFOO0FBS0g7O0FBRUQsU0FBT0MsZUFBZSxDQUFDRSxXQUF2QjtBQUNILENBYkQ7O0FBZUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlAsY0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgeyBJbnZhbGlkQ29uZmlndXJhdGlvbiwgQmFkUmVxdWVzdCB9ID0gcmVxdWlyZSgnLi4vdXRpbHMvRXJyb3JzJyk7XG5jb25zdCB7IHJlcXVpcmVGZWF0dXJlcyB9ID0gcmVxdWlyZSgnLi4vdXRpbHMvSGVscGVycycpO1xuXG4vKipcbiAqIFBhc3Nwb3J0IGluaXRpYWxpemF0aW9uIG1pZGRsZXdhcmUsIHVzZSB0aGUgcGFzc3BvcnQgc2VydmljZSBleHBvc2VkIGJ5IG90aGVyIGFwcCB0byBzZXJ2ZXIuXG4gKiBAbW9kdWxlIE1pZGRsZXdhcmVfU2VydmVyUGFzc3BvcnRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIHBhc3Nwb3J0IGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmUuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0IC0gUGFzc3BvcnQgb3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG9wdC5zdHJhdGVneSAtIFBhc3Nwb3J0IHN0cmF0ZWd5XG4gKiBAcHJvcGVydHkge29iamVjdH0gW29wdC5vcHRpb25zXSAtIFBhc3Nwb3J0IHN0cmF0ZWd5IG9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBbb3B0LmN1c3RvbUhhbmRsZXJdIC0gRmxhZyB0byB1c2UgcGFzc3BvcnQgc3RyYXRlZ3kgY3VzdG9tSGFuZGxlciBcbiAqIEBwYXJhbSB7Um91dGFibGV9IGFwcFxuICogQHJldHVybnMge0tvYUFjdGlvbkZ1bmN0aW9ufVxuICovXG5sZXQgc2VydmVyUGFzc3BvcnQgPSAob3B0LCBhcHApID0+IHtcbiAgICBcbiAgICBsZXQgcGFzc3BvcnRTZXJ2aWNlID0gYXBwLmdldFNlcnZpY2UoJ3Bhc3Nwb3J0Jyk7XG5cbiAgICBpZiAoIXBhc3Nwb3J0U2VydmljZSkge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENvbmZpZ3VyYXRpb24oXG4gICAgICAgICAgICAnUGFzc3BvcnQgZmVhdHVyZSBpcyBub3QgZW5hYmxlZC4nLFxuICAgICAgICAgICAgYXBwLFxuICAgICAgICAgICAgJ3Bhc3Nwb3J0J1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXNzcG9ydFNlcnZpY2UubWlkZGxld2FyZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlcnZlclBhc3Nwb3J0OyJdfQ==