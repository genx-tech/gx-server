"use strict";

require("source-map-support/register");

const {
  InvalidConfiguration,
  BadRequest
} = require('@genx/error');

const {
  requireFeatures
} = require('../utils/Helpers');

let serverPassport = (opt, app) => {
  let passportService = app.getService('passport');

  if (!passportService) {
    throw new InvalidConfiguration('Passport feature is not enabled.', app, 'passport');
  }

  return passportService.middlewares;
};

module.exports = serverPassport;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlcy9zZXJ2ZXJQYXNzcG9ydC5qcyJdLCJuYW1lcyI6WyJJbnZhbGlkQ29uZmlndXJhdGlvbiIsIkJhZFJlcXVlc3QiLCJyZXF1aXJlIiwicmVxdWlyZUZlYXR1cmVzIiwic2VydmVyUGFzc3BvcnQiLCJvcHQiLCJhcHAiLCJwYXNzcG9ydFNlcnZpY2UiLCJnZXRTZXJ2aWNlIiwibWlkZGxld2FyZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU07QUFBRUEsRUFBQUEsb0JBQUY7QUFBd0JDLEVBQUFBO0FBQXhCLElBQXVDQyxPQUFPLENBQUMsYUFBRCxDQUFwRDs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBc0JELE9BQU8sQ0FBQyxrQkFBRCxDQUFuQzs7QUFnQkEsSUFBSUUsY0FBYyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBRS9CLE1BQUlDLGVBQWUsR0FBR0QsR0FBRyxDQUFDRSxVQUFKLENBQWUsVUFBZixDQUF0Qjs7QUFFQSxNQUFJLENBQUNELGVBQUwsRUFBc0I7QUFDbEIsVUFBTSxJQUFJUCxvQkFBSixDQUNGLGtDQURFLEVBRUZNLEdBRkUsRUFHRixVQUhFLENBQU47QUFLSDs7QUFFRCxTQUFPQyxlQUFlLENBQUNFLFdBQXZCO0FBQ0gsQ0FiRDs7QUFlQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCUCxjQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7IEludmFsaWRDb25maWd1cmF0aW9uLCBCYWRSZXF1ZXN0IH0gPSByZXF1aXJlKCdAZ2VueC9lcnJvcicpO1xuY29uc3QgeyByZXF1aXJlRmVhdHVyZXMgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL0hlbHBlcnMnKTtcblxuLyoqXG4gKiBQYXNzcG9ydCBpbml0aWFsaXphdGlvbiBtaWRkbGV3YXJlLCB1c2UgdGhlIHBhc3Nwb3J0IHNlcnZpY2UgZXhwb3NlZCBieSBvdGhlciBhcHAgdG8gc2VydmVyLlxuICogQG1vZHVsZSBNaWRkbGV3YXJlX1NlcnZlclBhc3Nwb3J0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBwYXNzcG9ydCBhdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdCAtIFBhc3Nwb3J0IG9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHQuc3RyYXRlZ3kgLSBQYXNzcG9ydCBzdHJhdGVneVxuICogQHByb3BlcnR5IHtvYmplY3R9IFtvcHQub3B0aW9uc10gLSBQYXNzcG9ydCBzdHJhdGVneSBvcHRpb25zXG4gKiBAcHJvcGVydHkge29iamVjdH0gW29wdC5jdXN0b21IYW5kbGVyXSAtIEZsYWcgdG8gdXNlIHBhc3Nwb3J0IHN0cmF0ZWd5IGN1c3RvbUhhbmRsZXIgXG4gKiBAcGFyYW0ge1JvdXRhYmxlfSBhcHBcbiAqIEByZXR1cm5zIHtLb2FBY3Rpb25GdW5jdGlvbn1cbiAqL1xubGV0IHNlcnZlclBhc3Nwb3J0ID0gKG9wdCwgYXBwKSA9PiB7XG4gICAgXG4gICAgbGV0IHBhc3Nwb3J0U2VydmljZSA9IGFwcC5nZXRTZXJ2aWNlKCdwYXNzcG9ydCcpO1xuXG4gICAgaWYgKCFwYXNzcG9ydFNlcnZpY2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDb25maWd1cmF0aW9uKFxuICAgICAgICAgICAgJ1Bhc3Nwb3J0IGZlYXR1cmUgaXMgbm90IGVuYWJsZWQuJyxcbiAgICAgICAgICAgIGFwcCxcbiAgICAgICAgICAgICdwYXNzcG9ydCdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFzc3BvcnRTZXJ2aWNlLm1pZGRsZXdhcmVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXJ2ZXJQYXNzcG9ydDsiXX0=